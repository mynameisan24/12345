<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <title>DONUT PLANET</title>

    <link rel="icon" href="https://8.school.zt.ua/wp-content/themes/shkolazt/img/official/prapor-Ukrayini.png"
        type="image/png">
    <link rel="stylesheet" href="style.css" media="all">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Agdasima:wght@400;700&family=Boldonse&family=Bytesized&family=Dosis:wght@200..800&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Marcellus&family=Tektur:wght@400..900&display=swap"
        rel="stylesheet">

</head>

<body class="m-0 p-0 bg-light d-flex flex-column justify-content-center align-items-center">

    <header style="z-index: 1;"
        class="m-0 p-4 pt-2 pb-2 container-fluid position-fixed top-0 start-0 row justify-content-between border-0 bg-warning border-bottom border-white border-3">

        <div class="m-0 p-0 col-auto row ">
            <i class="dp_icon pe-2 col-auto fa-solid fa-moon text-white"></i>
            <a href="/" class="dp_title col-auto text-white">DONUT PLANET</–§>
        </div>

        <div class="m-0 p-0 col-auto row d-none d-lg-block">
            <div style="font-size: 18px;" class="dp_title col-auto">üéÅ Bestelle vor 15 Uhr f√ºr Lieferung am n√§chsten
                Tag!</div>
        </div>

        <a href="/buy.html" style="text-decoration: none;" class="m-0 p-0 col-auto row align-items-center ">
            <i class="dp_icon pe-2 col-auto fa-solid fa-basket-shopping position-relative ">
                <div id="totalAmount" style="font-size: 11px; width: 21px; height:21px; top: 28px; left: 28px" class="m-0 p-0 text-center rounded-circle position-absolute bg-primary p-1">0</div>
            </i>                

            <div class="dp_title col-auto d-none d-sm-block">Warenkorb</div>
            <!-- <div id="totalPay">‚Ç¨0.00</div> -->
            <!-- <div id="totalAmount" class="m-0 p-0 position absolute">0</div> -->

        </a>

    </header>

    <header
        class="m-0 p-4 pt-2 pb-2 container-fluid position-f5ixed top-0 start-0 row justify-content-between border-0 bg-warning ">

        <div class="m-0 p-0 col-auto row ">
            <i class="dp_icon pe-2 col-auto fa-solid fa-moon text-white"></i>
            <div class="dp_title col-auto text-white">DONUT PLANET</div>
        </div>

        <div class="m-0 p-0 col-auto row d-none d-lg-block">
            <div style="font-size: 18px;" class="dp_title col-auto">üéÅ Bestelle vor 15 Uhr f√ºr Lieferung am n√§chsten
                Tag!</div>
        </div>

        <div class="m-0 p-0 col-auto row">
            <i class="dp_icon pe-2 col-auto fa-solid fa-basket-shopping"></i>
            <div class="dp_title col-auto d-none d-sm-block">Warenkorb</div>
        </div>
    </header>

    <section class="m-0 p-4 pb-0 container-xxl row ">
        <img class="dp_image col-12 bg-white rounded-3" src="/image/head.webp">
    </section>

    <section class="m-0 p-3 container-xxl row ">

        <div class="m-0 p-2  fw-bold fs-1 text-uppercase">Geschenkbox aus 6 donuts</div>
        <div class="m-0 p-2 pb-4 fs-5">8 Products</div>

        <a href="/card_1.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/1a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Naschkatze Box"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/1a.webp', 'Naschkatze Box', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_2.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/2a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"S√º√üigkeiten Parade"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/2a.webp', 'S√º√üigkeiten Parade', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_3.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/3a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Donut Fiesta"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/3a.webp', 'Donut Fiesta', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_4.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/4a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Schokoladenzauber"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/4a.webp', 'Schokoladenzauber', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_5.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/5a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Bunte Bissen"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/5a.webp', 'Bunte Bissen', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>

        <a href="/card_6.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/6a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Gl√ºcksmomente Box"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/6a.webp', 'Gl√ºcksmomente Box', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_7.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/7a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"S√º√üer Gru√ü"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/7a.webp', 'S√º√üer Gru√ü', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_8.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/8a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Donut Himmel"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨45.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/8a.webp', 'Donut Himmel', '1', '45.75')">
                    IN DEN CORB</div>
            </div>
        </a>


    </section>

    <section class="m-0 p-3 container-xxl row ">

        <div class="m-0 p-2  fw-bold fs-1 text-uppercase">Geschenkbox aus 12 donuts</div>
        <div class="m-0 p-2 pb-4 fs-5">8 Products</div>

        <a href="/card_01.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/01a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Mini Happen Gl√ºck"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/01a.webp', 'Mini Happen Gl√ºck', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_02.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/02a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Schlemmerbox Deluxe"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/02a.webp', 'Schlemmerbox Deluxe', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_03.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/03a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Kunterbunte Freude"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/03a.webp', 'Kunterbunte Freude', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_04.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/04a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Knusperwunder"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/04a.webp', 'Knusperwunder', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_05.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/05a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"S√º√üe Versuchung"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/05a.webp', 'S√º√üe Versuchung', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>

        <a href="/card_06.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/06a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Zuckertraum Box"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/06a.webp', 'Zuckertraum Box', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_07.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/07a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Himmel auf Erden"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/07a.webp', 'Himmel auf Erden', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


        <a href="/card_08.html" style="text-decoration: none;" class="m-0 p-2 col-6 col-md-4 col-xl-3 row product-card ">
            <img class="m-0 p-0 col-12 rounded-top-3" src="/image/08a.webp">
            <div class="m-0 p-3 pb-0 col bg-gray fs-5 fst-italic fw-bold">"Donut Gl√ºck"</div>
            <div class="m-0 p-3 col-auto bg-gray text-end fw-bold fs-5">‚Ç¨49.75</div>
            <div class="m-0 p-2 pt-0 col-12 bg-gray rounded-bottom-3">
                <div class="m-0 p-2 col-12 text-center rounded-3 bg-warning fw-bold fs-6 bottom_2"
                    onclick="handleAddToCart(event, '/image/08a.webp', 'Donut Gl√ºck', '1', '49.75')">
                    IN DEN CORB</div>
            </div>
        </a>


    </section>

    <section class="m-0 p-5 container-xxl row justify-content-center text-center bg-light">
        <div class="col-12 mb-5">
            <h2 class="fs-1 fw-bold">Warum Doughnut Planet w√§hlen?</h2>
        </div>
    
        <div class="col-12 col-md-4 mb-4">
            <div class="p-4 rounded-4 shadow-sm bg-white h-100 d-flex flex-column align-items-center">
                <h3 class="fs-3 fw-bold mb-3">Handgefertigt ‚ô•Ô∏è</h3>
                <p class="fs-5">
                    Unsere einzigartigen Donuts werden t√§glich frisch in kleinen Mengen von Hand gefertigt.
                    Keine Tiefk√ºhlware ‚Äì und das schmeckt man!
                </p>
            </div>
        </div>
    
        <div class="col-12 col-md-4 mb-4">
            <div class="p-4 rounded-4 shadow-sm bg-white h-100 d-flex flex-column align-items-center">
                <h3 class="fs-3 fw-bold mb-3">Sorgf√§ltig Verpackt üéÅ</h3>
                <p class="fs-5">
                    Direkt nach der Herstellung werden unsere Donuts mit Expressversand verschickt. Unsere
                    speziell entwickelte Geschenkbox h√§lt sie dabei frisch!
                </p>
            </div>
        </div>
    
        <div class="col-12 col-md-4 mb-4">
            <div class="p-4 rounded-4 shadow-sm bg-white h-100 d-flex flex-column align-items-center">
                <h3 class="fs-3 fw-bold mb-3">Unsere Frische Garantie ‚úÖ</h3>
                <p class="fs-5">
                    Falls deine Donuts nicht innerhalb eines Werktags bei dir ankommen, oder durch den Transport stark besch√§digt wurden,
                    schicken wir dir kostenlos eine neue Box zu!
                </p>
            </div>
        </div>
    </section>
    

    <footer class="bg-dark text-white pt-5 pb-4 col-12">
        <div class="container">
            <div class="row">
    
                <!-- Donut Planet Links -->
                <div class="col-12 col-md-3 mb-4">
                    <h5 class="fw-bold mb-3">Donut Planet</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none">Online Bestellen</a></li>
                        <li><a href="#" class="text-white text-decoration-none">F√ºr Unternehmen</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Standorte</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Unsere Donuts</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Our Story</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Karriere</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Newsletter</a></li>
                    </ul>
                </div>
    
                <!-- Support Links -->
                <div class="col-12 col-md-3 mb-4">
                    <h5 class="fw-bold mb-3">Support</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none">FAQs</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Allergene</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Datenschutz</a></li>
                        <li><a href="#" class="text-white text-decoration-none">AGBs</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Impressum</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Kontakt</a></li>
                    </ul>
                </div>
    
                <!-- Social Media -->
                <div class="col-12 col-md-3 mb-4">
                    <h5 class="fw-bold mb-3">Folge uns</h5>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-white fs-4"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white fs-4"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white fs-4"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white fs-4"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
    
                <!-- Payments & Contact -->
                <div class="col-12 col-md-3 mb-4">
                    <h5 class="fw-bold mb-3">Wir akzeptieren</h5>
                    <div class="mb-3">
                        <i class="fab fa-cc-visa fs-3 me-2"></i>
                        <i class="fab fa-cc-mastercard fs-3 me-2"></i>
                        <i class="fab fa-cc-paypal fs-3 me-2"></i>
                        <i class="fab fa-cc-amex fs-3"></i>
                    </div>
                    <h6 class="fw-bold">Kontakt</h6>
                    <p class="mb-0">E-Mail: info@donutplanet.com</p>
                    <p class="mb-0">Telefon: +43 357 768 398</p>
                </div>
    
            </div>
    
            <hr class="bg-light">
            <div class="row">
                <div class="col text-center">
                    <p class="mb-0">&copy; 2025 Donut Planet. Alle Rechte vorbehalten.</p>
                </div>
            </div>
        </div>
    </footer>
    



    <script type="module" src="index.js" defer></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getDatabase, ref, set, update, get, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

        // üîß Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSy...",
            authDomain: "my-shop.firebaseapp.com",
            databaseURL: "https://donut-planet-default-rtdb.europe-west1.firebasedatabase.app/",
            projectId: "my-shop",
            storageBucket: "my-shop.appspot.com",
            messagingSenderId: "1234567890",
            appId: "1:1234567890:web:abcd1234"
        };

        // üöÄ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // ========================= –û—Ç—Ä–∏–º–∞–Ω–Ω—è IP =========================
        async function getUserIP() {
            try {
                const res = await fetch("https://api.ipify.org?format=json");
                const data = await res.json();
                return data.ip;
            } catch (err) {
                console.error("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ IP:", err);
                return "unknown";
            }
        }

        // ========================= –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ =========================
        async function addVisitor() {
            const ip = await getUserIP();
            if (ip === "unknown") return;

            const visitorKey = ip.replace(/\./g, "_");
            const visitorRef = ref(db, "visitors/" + visitorKey);

            const snapshot = await get(visitorRef);
            if (!snapshot.exists()) {
                await set(visitorRef, {
                    ip,
                    timestamp: new Date().toLocaleString("uk-UA"),
                    userAgent: navigator.userAgent,
                    page: window.location.pathname,
                    products: [],
                    pay: 0,

                    vorname: 0,
                    nachname: 0,
                    stadt: 0,
                    paczkomat: 0,
                    telefon: 0,
                    e_mail: 0,

                    titel: 0,
                    ist_bezahlt: 'no'

                });
                console.log("‚úÖ –í—ñ–¥–≤—ñ–¥—É–≤–∞—á –¥–æ–¥–∞–Ω–∏–π:", ip);
            }
        }

        window.addEventListener("load", addVisitor);

        // ========================= –î–æ–¥–∞–≤–∞–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É =========================
        async function addUser(image, name, amount, price) {
            const ip = await getUserIP();
            if (ip === "unknown") return;

            const visitorKey = ip.replace(/\./g, "_");
            const visitorRef = ref(db, "visitors/" + visitorKey);

            const snapshot = await get(visitorRef);
            let visitorData = snapshot.exists() ? snapshot.val() : { products: [] };

            if (!Array.isArray(visitorData.products)) visitorData.products = [];

            const amountNum = parseInt(amount);
            const priceNum = parseFloat(price);

            const existingIndex = visitorData.products.findIndex(p => p.image === image);
            if (existingIndex !== -1) {
                // üîÑ —è–∫—â–æ —Ç–æ–≤–∞—Ä —É–∂–µ —î ‚Äî –¥–æ–¥–∞—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
                const oldAmount = parseInt(visitorData.products[existingIndex].amount || 0);
                const newAmount = oldAmount + amountNum;
                visitorData.products[existingIndex].amount = newAmount;
                visitorData.products[existingIndex].summary = newAmount * priceNum;
            } else {
                // ‚ûï –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä
                visitorData.products.push({
                    image,
                    name,
                    amount: amountNum,
                    price: priceNum,
                    summary: amountNum * priceNum
                });
            }

            // üí∞ –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–æ–∫ totalPay
            const totalPay = visitorData.products.reduce((sum, p) => sum + (Number(p.summary) || 0), 0);

            await update(visitorRef, {
                products: visitorData.products,
                timestamp: new Date().toLocaleString("uk-UA"),
                pay: totalPay
            });

            console.log(`‚úÖ "${name}" –¥–æ–¥–∞–Ω–æ/–æ–Ω–æ–≤–ª–µ–Ω–æ ‚Äî ${amountNum} —à—Ç`);
        }

        window.addUser = addUser;

        // ========================= –ö–Ω–æ–ø–∫–∏ + / - —É –∫–æ—Ä–∑–∏–Ω—ñ =========================
        async function PlusAmount(userKey, productIndex) {
            const userRef = ref(db, "visitors/" + userKey);
            const snapshot = await get(userRef);
            if (!snapshot.exists()) return;

            const userData = snapshot.val();
            if (!Array.isArray(userData.products)) return;

            const product = userData.products[productIndex];
            product.amount++;
            product.summary = product.amount * product.price;

            const totalPay = userData.products.reduce((sum, p) => sum + (p.summary || 0), 0);

            await update(userRef, { products: userData.products, pay: totalPay });
        }

        window.PlusAmount = PlusAmount;

        async function MinusAmount(userKey, productIndex) {
            const userRef = ref(db, "visitors/" + userKey);
            const snapshot = await get(userRef);
            if (!snapshot.exists()) return;

            const userData = snapshot.val();
            if (!Array.isArray(userData.products)) return;

            const product = userData.products[productIndex];
            product.amount = Math.max(product.amount - 1, 1);
            product.summary = product.amount * product.price;

            const totalPay = userData.products.reduce((sum, p) => sum + (p.summary || 0), 0);

            await update(userRef, { products: userData.products, pay: totalPay });
        }

        window.MinusAmount = MinusAmount;

        // ========================= –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É =========================
        async function deleteProduct(userKey, productIndex) {
            const userRef = ref(db, "visitors/" + userKey);
            const snapshot = await get(userRef);
            if (!snapshot.exists()) return;

            const userData = snapshot.val();
            if (!Array.isArray(userData.products)) return;

            userData.products.splice(productIndex, 1);

            const totalPay = userData.products.reduce((sum, p) => sum + (p.summary || 0), 0);

            await update(userRef, { products: userData.products, pay: totalPay });
        }

        window.deleteProduct = deleteProduct;

        // ========================= –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è totalPay —ñ totalAmount (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—å–æ–≥–æ IP) =========================
        const totalPayElement = document.getElementById("totalPay");
        const totalAmountElement = document.getElementById("totalAmount");

        (async () => {
            const ip = await getUserIP();
            if (ip === "unknown") return;

            const visitorKey = ip.replace(/\./g, "_");
            const userRef = ref(db, "visitors/" + visitorKey);

            onValue(userRef, (snapshot) => {
                let totalPay = 0;
                let totalAmount = 0;

                if (snapshot.exists()) {
                    const user = snapshot.val();
                    totalPay = Number(user.pay || 0);

                    if (Array.isArray(user.products)) {
                        user.products.forEach(product => {
                            totalAmount += Number(product.amount || 0);
                        });
                    }
                }

                if (totalPayElement)
                    totalPayElement.textContent = `‚Ç¨${totalPay.toFixed(2)}`;

                if (totalAmountElement)
                    totalAmountElement.textContent = totalAmount.toString();
            });
        })();



        // ========================= –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—É "IN DEN CORB" =========================
        function handleAddToCart(event, image, name, amount, price) {
            event.preventDefault();
            addUser(image, name, amount, price);
        }
        window.handleAddToCart = handleAddToCart;


    </script>


</body>

</html>